<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Homework</title>
</head>

<body>

    <script>
        "use strict";
        // Создаем JSON файл
        let userJSON = `{"name": "Ann", "age": 22, "isAdmin": true }`;
        // Достаем JSON файл
        let user = JSON.parse(userJSON);
        console.log(user); // user - это объект
        // Добавляем данные 
        user.dateCreated = `2022-10-01`;
        user.address = {
            city: `Belgorod`,
            postalCode: 103565
        };
        console.log(user);// объект изменился

        // Отправляем назад в JSON 
        userJSON = JSON.stringify(user);
        console.log(userJSON);
        // Можно отправлять ключи выборочно, через добавление второго параметра: массив
        const userJSON2 = JSON.stringify(user, ["name", "isAdmin", "address", "city"]);
        console.log(userJSON2);
        // Можно отформатировать, с помощью третьего параметра (кол-во пробелов для форматирования)
        const userJSON3 = JSON.stringify(user, ["name", "isAdmin", "address", "city", "dateCreated"], 2);
        console.log(userJSON3);
        /* В процессе парсинга мы можем преобразовать данные в нужный нам вид: в данном
        примере мы преобразовываем дату из строки в объект */
        const user2 = JSON.parse(userJSON3, (key, value) => {
            if (key === `dateCreated`) return new Date(value);
            else if (key === `city`) return `Kiev`;
            return value;
        });
        console.log(user);// дата в обычном формате
        console.log(user2); // дата в формате объекта после преобразования
        console.log(user2.dateCreated.getFullYear()); // из обьекта мы можем достать год.







    </script>
</body>

</html>